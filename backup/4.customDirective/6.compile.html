<!DOCTYPE html>
<html ng-app="zfpxMod">
<head lang="en">
	<meta charset="UTF-8">
	<title>directive</title>
	<link rel="stylesheet" href="../../lib/bootstrap/dist/css/bootstrap.min.css"/>
</head>
<body class="container" ng-controller="zfpxCtrl">
	<div times="3">
		<span>{{word}}</span>
	</div>
</body>
</html>
<script src="../../lib/angular/angular.js"></script>
<script>
angular.module('zfpxMod', []);
angular.module('zfpxMod')
		.controller('zfpxCtrl', function($scope){

		})

//过滤器服务的名字就是 过滤器名字+Filter
angular.module('zfpxMod')
		.directive('times', function(){
			return {
				restrict: 'A',
				transclude: true,
				template: '<div ng-transclude></div>',
				/*link: function(scope, element, attrs){
				    scope.word = 'hello1';
					console.log('链接函数');
				},*/
				compile: function(element, attrs){
					console.log('开始compile');
					var tpl = element.children();
					console.log(attrs.times)
					for(var i = 0; i < attrs.times-1; i++){
						element.append(tpl.clone());
					}
					//相当于Link函数
					return function(scope, element, attrs){
						scope.word = 'hello2';
						console.log('链接函数');
					}
				}
			}
		})




</script>
<!DOCTYPE html>
<html ng-app="zfpxMod">
<head lang="en">
	<meta charset="UTF-8">
	<title>scope</title>
	<style>
		div{
			border: 1px solid #f00;
		}
	</style>
</head>
<body>
<div ng-controller="totalCtrl">
	总价：{{total}}
	<div ng-controller="detailCtrl">
		<table>
			<tr>
				<td>商品</td>
				<td>数量</td>
				<td>价格</td>
			</tr>
			<tr ng-repeat="item in items">
				<td>{{item.name}}</td>
				<td><input type="text" ng-change="$emit('change')" ng-model="item.amount"/></td>
				<td>{{item.price}}</td>
			</tr>
		</table>
	</div>
</div>
</body>
</html>
<script src="../lib/angular/angular.js"></script>
<script>
	angular.module('zfpxMod', []);
	angular.module('zfpxMod').
			controller('totalCtrl', function($scope){
				$scope.total = 0;
				$scope.items = [
					{
						name:'Plane',
						price:1,
						amount:1
					},
					{
						name:'Coat',
						price:100,
						amount:2
					}
				]
				$scope.$on('change', function(event,num){
					var total = 0;
					$scope.items.forEach(function(item){
						total += item.price * item.amount;
					})
					$scope.total = total;
				});
			})
			.controller('detailCtrl', function($scope){

			})


</script>